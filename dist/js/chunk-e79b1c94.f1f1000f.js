(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e79b1c94"],{"8e62":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid animated fadeIn h-100"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 mt-4"},[a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitQuest(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("List of Events")]),a("v-select",{attrs:{options:t.options,label:"title",index:"id"},model:{value:t.eventSelected,callback:function(e){t.eventSelected=e},expression:"eventSelected"}}),t.error&&t.error.eventId?a("span",{staticClass:"text-danger"},[t._v(t._s(t.error.eventId[0]))]):t._e()],1)])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],staticClass:"form-control",class:{"error-border":t.error&&t.error.title},attrs:{type:"text"},domProps:{value:t.data.title},on:{input:function(e){e.target.composing||t.$set(t.data,"title",e.target.value)}}}),t.error&&t.error.title?a("span",{staticClass:"text-danger"},[t._v(t._s(t.error&&t.error.title[0]))]):t._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.description,expression:"data.description"}],staticClass:"form-control",class:{"error-border":t.error&&t.error.description},staticStyle:{"white-space":"pre-wrap"},domProps:{value:t.data.description},on:{input:function(e){e.target.composing||t.$set(t.data,"description",e.target.value)}}}),t.error&&t.error.description?a("span",{staticClass:"text-danger"},[t._v(t._s(t.error&&t.error.description[0]))]):t._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Points")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.points,expression:"data.points"}],staticClass:"form-control",class:{"error-border":t.error&&t.error.points},attrs:{type:"text",patter:"[0-9]"},domProps:{value:t.data.points},on:{input:function(e){e.target.composing||t.$set(t.data,"points",e.target.value)}}}),t.error&&t.error.points?a("span",{staticClass:"text-danger"},[t._v(t._s(t.error&&t.error.points[0]))]):t._e()])])])])])]),a("div",{staticClass:"card-header"},[a("div",{staticClass:"row h-100 align-items-center"},[a("div",{staticClass:"col-6"},[t._v("\n               Remaining points: 500\n            ")]),a("div",{staticClass:"col-6 text-right"},[a("button",{staticClass:"btn btn-success",attrs:{disabled:t.disableSaveButton}},[t._v("Save Quest")])])])])]),a("table",{staticClass:"table table-bordered mt-5"},[t._m(1),a("tbody",t._l(t.quests.data,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.event.title))]),a("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.title))]),a("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.description))]),a("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.points))]),a("td",[a("a",{staticClass:"btn btn-success mr-3",attrs:{href:"/booth/edit-quest/"+e.id+"/"+t.$route.params.id}},[t._v("Edit")]),a("button",{staticClass:"btn btn-danger ",attrs:{type:"button"},on:{click:function(a){return t.removeQuest(e.id,e.title)}}},[t._v("Delete")])])])})),0)]),t.page_count>1?a("paginate",{attrs:{"page-count":t.page_count,"prev-text":"Prev","next-text":"Next","container-class":"pagination","next-class":"page-link","prev-class":"page-link","page-class":"page-item","page-link-class":"page-link","click-handler":t.getQuest},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("strong",[t._v("Quest")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Event Name")]),a("th",[t._v("Title")]),a("th",[t._v("Description")]),a("th",[t._v("Points")]),a("th",[t._v("Controls")])])])}],n=(a("ac6a"),a("a026")),o=a("f62e"),r=a("b844"),l=a("c788"),u=new r["a"],d=new l["b"];n["default"].use(o["a"]);var c={data:function(){return{data:{quest:[{title:"",description:"",points:null}]},events_booths:{},quests:{},error:{},page_count:0,currentPage:1,disableSaveButton:!1,options:[],eventSelected:{}}},methods:{getEvents:function(){var t=this;return u.getEventsByBooth(this.$route.params.id).then((function(e){t.events_booths=e.data.data,t.events_booths.forEach((function(e){t.options.push({id:e.event.id,title:e.event.title})}))}),(function(t){}))},getQuest:function(){var t=this,e=parseInt(this.$route.params.id);return u.getQuestByBooth(e,this.currentPage).then((function(e){t.quests=e.data.data,t.page_count=Math.ceil(t.quests.total/t.quests.perPage)}),(function(t){}))},submitQuest:function(){var t=this;return this.data.eventId=this.eventSelected.id,this.disableSaveButton=!0,this.data.boothId=parseInt(this.$route.params.id),u.saveQuest(this.data).then((function(e){t.data={quest:[{title:"",description:"",points:null}]},t.error={},t.getQuest(),d.save(),t.disableSaveButton=!1}),(function(e){t.$swal("Warning!","Please fill up all required fields.","warning"),t.error=e.errors,t.disableSaveButton=!1}))},removeQuest:function(t,e){var a=this;this.$swal({title:"Are you sure ",text:"You want to delete "+e+"?",icon:"warning",buttons:["No","Yes"]}).then((function(e){if(e)return u.deleteQuest(t).then((function(t){a.getQuest(),a.$swal.close()}),(function(t){console.log(t)}));a.$swal.close()}))},addQuest:function(){this.data.quest.push({title:"",description:"",points:null})},removeKeyQuest:function(t){this.data.quest.splice(t,1)}},mounted:function(){this.getEvents(),this.getQuest()}},v=c,p=a("2877"),w=Object(p["a"])(v,s,i,!1,null,null,null);e["default"]=w.exports},b844:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s,i=a("d225"),n=a("b0b4"),o=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"list",value:function(t){return s=window.axios.get(window.api_url+"/admin/booth/index?page="+t),s}},{key:"store",value:function(t){return s=window.axios.post(window.api_url+"/admin/booth/store",t),s}},{key:"update",value:function(t,e){return s=window.axios.put(window.api_url+"/admin/booth/update/"+t,e),s}},{key:"edit",value:function(t){return s=window.axios.get(window.api_url+"/admin/booth/edit/"+t),s}},{key:"changeStatus",value:function(t){return s=window.axios.post(window.api_url+"/admin/booth/update-status/"+t),s}},{key:"getEventsByBooth",value:function(t){return s=window.axios.get(window.api_url+"/admin/event-booth/index?boothId="+t),s}},{key:"saveQuest",value:function(t){return s=window.axios.post(window.api_url+"/admin/quest/store",t),s}},{key:"getQuestByBooth",value:function(t,e){return s=window.axios.get(window.api_url+"/admin/quest/index?boothId="+t+"&page="+e),s}},{key:"editQuest",value:function(t){return s=window.axios.get(window.api_url+"/admin/quest/edit/"+t),s}},{key:"updateQuest",value:function(t,e){return s=window.axios.put(window.api_url+"/admin/quest/update/"+t,e),s}},{key:"forgoutPassword",value:function(t,e){return s=window.axios.put(window.api_url+"/admin/booth/forgot-password/"+t,e),s}},{key:"deleteQuest",value:function(t){return s=window.axios.delete(window.api_url+"/admin/quest/delete/"+t),s}}]),t}()}}]);
//# sourceMappingURL=chunk-e79b1c94.f1f1000f.js.map