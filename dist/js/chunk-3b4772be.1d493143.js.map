{"version":3,"sources":["webpack:///./src/views/Login/login.vue?80dd","webpack:///src/views/Login/login.vue","webpack:///./src/views/Login/login.vue?9119","webpack:///./src/views/Login/login.vue","webpack:///./src/services/admin/login.service.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","preventDefault","login","_v","_s","error","_e","_m","directives","name","rawName","value","data","expression","class","domProps","target","composing","$set","staticRenderFns","methods","$swal","title","text","icon","button","closeOnClickOutside","requestLogin","component","promise","AdminServices","axios","post","api_url","get","property","console","log","payload","localStorage","getItem","formBody","encodedKey","encodeURIComponent","encodedValue","push","join","requestOptions","method","headers","body","fetch","then","res","responseData","clear","location","href","catch","err"],"mappings":"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","file":"js/chunk-3b4772be.1d493143.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"app flex-row align-items-center ng-scope\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-5\"},[_c('div',{staticClass:\"card-group\"},[_c('div',{staticClass:\"card login-form p-4\"},[_c('div',{staticClass:\"card-body text-center\"},[_c('img',{staticClass:\"w-100\",attrs:{\"src\":\"https://res.cloudinary.com/aqube/image/upload/v1632801831/MerchBlitz/logo-symbol_n8j0g8.png\",\"alt\":\"\"}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login()}}},[_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Sign In to your account\")]),(_vm.error)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.error)+\"\\n                  \")]):_vm._e(),_c('div',{staticClass:\"input-group mb-3\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data['user-name']),expression:\"data['user-name']\"}],staticClass:\"form-control\",class:{\n                        'error-border':\n                          _vm.error,\n                      },attrs:{\"type\":\"text\",\"placeholder\":\"Username\"},domProps:{\"value\":(_vm.data['user-name'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, 'user-name', $event.target.value)}}})]),_c('div',{staticClass:\"input-group mb-4\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.password),expression:\"data.password\"}],staticClass:\"form-control\",class:{\n                        'error-border':\n                          _vm.error,\n                      },attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.data.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"password\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-primary w-100 px-4\"},[_vm._v(\"Login\")])])])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_c('i',{staticClass:\"icon-user\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_c('i',{staticClass:\"icon-lock\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <main id=\"login\">\n    <div class=\"app flex-row align-items-center ng-scope\">\n      <div class=\"container\">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-md-5\">\n            <div class=\"card-group\">\n              <div class=\"card login-form p-4\">\n                <div class=\"card-body text-center\">\n                  <img src=\"https://res.cloudinary.com/aqube/image/upload/v1632801831/MerchBlitz/logo-symbol_n8j0g8.png\" alt=\"\" class=\"w-100\" />\n\n                  <form @submit.prevent=\"login()\">\n                    <p class=\"text-muted\">Sign In to your account</p>\n                    <p\n                      class=\"text-danger\"\n                      v-if=\"error\"\n                    >\n                      {{ error }}\n                    </p>\n                    <div class=\"input-group mb-3\">\n                      <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\">\n                          <i class=\"icon-user\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        :class=\"{\n                          'error-border':\n                            error,\n                        }\"\n                        placeholder=\"Username\"\n                        v-model=\"data['user-name']\"\n                      />\n                    </div>\n                    <div class=\"input-group mb-4\">\n                      <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\">\n                          <i class=\"icon-lock\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"password\"\n                        class=\"form-control\"\n                        :class=\"{\n                          'error-border':\n                            error,\n                        }\"\n                        placeholder=\"Password\"\n                        v-model=\"data.password\"\n                      />\n                    </div>\n                    <button class=\"btn btn-primary w-100 px-4\">Login</button>\n                    <!-- <div class=\"row\">\n                      <div class=\"col-6\">\n                        <button class=\"btn btn-primary w-100 px-4\">Login</button>\n                      </div>\n                      <div class=\"col-6 text-right\">\n                        <button type=\"button\" class=\"btn btn-link px-0\">Forgot password?</button>\n                      </div>\n                    </div> -->\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport AdminServices from \"../../services/admin/login.service\";\nimport AlertServices from \"../../services/alert/alert.service\";\nconst alert = new AlertServices();\nconst admin = new AdminServices();\n\nexport default {\n  data: () => {\n    return {\n      data: {},\n      error: null,\n    };\n  },\n  methods: {\n    login() {\n      this.$swal({\n        title: \"Loading...\",\n        text: \"Please wait.\",\n        icon: \"/img/loader.gif\",\n        button: false,\n        closeOnClickOutside: false,\n      });\n      this.error = {};\n\n      return this.requestLogin(this.data);\n\n      // return admin\n      //   .login(this.data)\n      //   .then((response) => {\n      //     console.log(response);\n      //     localStorage.setItem(\"auth_token\", response.data.data.token);\n      //     location.href = \"/events\";\n      //   })\n      //   .catch((fail) => {\n      //     // localStorage.setItem(\"auth_token\", '9IixVbq0XzI29x6GLWE94OChJiSW2uuJSJWl0xCa');\n      //     // location.href = \"/events\";\n      //     this.$swal.close();\n      //     this.error = fail;\n      //     // console.log(fail);\n      //   });\n    },\n\n    async requestLogin(payload) {\n      if (payload) {\n        let formBody = [];\n        for (let property in payload) {\n          let encodedKey = encodeURIComponent(property);\n          let encodedValue = encodeURIComponent(payload[property]);\n          formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        formBody = formBody.join(\"&\");\n\n        // POST request using fetch with error handling\n        const requestOptions = {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n          body: formBody,\n        };\n        await fetch(api_url + \"/api/login\", requestOptions)\n          .then((res) => res.text())\n          .then((responseData) => {\n            if (responseData.indexOf(\" \") >= 0) {\n              this.$swal.close();\n              this.error = responseData;\n            } else {\n              localStorage.setItem(\"auth_token\", responseData);\n              location.href = \"/admin-users\";\n            }\n          })\n          .catch((err) => {\n            this.$swal.close();\n            this.error = err;\n          });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=2cf42f80&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var promise;\nexport default class AdminServices {\n    login(data) {\n        // eslint-disable-next-line no-undef\n        promise = axios.post(api_url + '/api/login', data);\n        return promise;\n    }\n\n    profile() {\n        // eslint-disable-next-line no-undef\n        promise = axios.get(api_url + '/admin/profile');\n        return promise;\n    }\n\n    async logout() {\n        // POST request using fetch with error handling\n\n        console.log('LOGOUT')\n        let payload = { 'api-token': localStorage.getItem('auth_token') }\n        let formBody = [];\n        for (let property in payload) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(payload[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        formBody = formBody.join(\"&\");\n\n\n        const requestOptions = {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n            body: formBody,\n        };\n        await fetch(api_url + \"/api/logout\", requestOptions)\n            .then((res) => res.text())\n            .then((responseData) => {\n                localStorage.clear();\n                location.href = \"/login\";\n            })\n            .catch((err) => {\n                this.error = err;\n            });\n\n        // eslint-disable-next-line no-undef\n        // promise = axios.post(api_url + '/admin/logout');\n        return promise;\n    }\n}\n"],"sourceRoot":""}