{"version":3,"sources":["webpack:///./src/views/stores/index.component.vue?6be6","webpack:///./src/services/store/store.service.js","webpack:///./src/views/stores/index.component.js","webpack:///./src/views/stores/index.component.js?9a07","webpack:///./src/views/stores/index.component.vue"],"names":["promise","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","active","filter","has_featured","status_option_id","attrs","on","$event","search","page","toggleTab","_v","clear","_l","suggestions","value","key","domProps","name","_m","data","_s","province","city","archive","id","restore","_e","total","toPageCount","per_page","paginate","model","callback","$$v","$set","expression","staticRenderFns","StoreService","api","client","post","config","end_point","admin","management","administrator","put","localStorage","getItem","params","delete","storeService","related_status_option_id","with_related_models","order_by","order_by_key","mounted","list","methods","test","console","log","Object","assign","provinces","cb","alertService","withConfirmation","inputs","find","el","update","set_featured$","featuredItemService","store","response","code","failWithMessage","errors","detail","unset_featured$","component"],"mappings":"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","file":"js/chunk-2d21b0ad.5c5c2dd9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body table-responsive\"},[_c('div',{staticClass:\"nav-tabs custom-tabs\"},[_c('div',{staticClass:\"nav-item primary\"},[_c('button',{staticClass:\"nav-link\",class:{\n          active: !_vm.filter.has_featured && _vm.filter.status_option_id == 1,\n        },attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.search({ status_option_id: 1, page: 1, has_featured: false }),\n            _vm.toggleTab()}}},[_vm._v(\"\\n        Records\\n      \")])])]),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{staticClass:\"input-group\"},[_c('span',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.clear()}}},[_c('i',{staticClass:\"icon-refresh\"})])]),_c('datalist',{attrs:{\"id\":\"items\",\"width\":\"100%\"}},_vm._l((_vm.suggestions.data),function(value,key){return _c('option',{domProps:{\"value\":value.name},on:{\"click\":function($event){return _vm.search({})}}})}),0)])]),_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.data.data),function(value,key){return [_c('tr',[_c('td',[_vm._v(\"\\n                  \"+_vm._s(value.province)+\"\\n                \")]),_c('td',{staticClass:\"cell-ellipsis\"},[_vm._v(\"\\n                  \"+_vm._s(value.city)+\"\\n                \")]),_c('td',{staticClass:\"cell-ellipsis\"},[_vm._v(\"\\n                  2021-07-10T07:16:09.000000Z\\n                  \")]),_c('td',[[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.archive(value.id)}}},[_vm._v(\"\\n                      Delete\")])],(_vm.filter.status_option_id == 2)?[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.restore(value.id)}}},[_vm._v(\" Restore\")])]:_vm._e()],2)])]})],2)]),(_vm.data.total == 0)?_c('p',{staticClass:\"text-center\"},[_c('i',{staticClass:\"fa fa-folder-open-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" No records\\n          found\\n        \")]):_vm._e()]),_c('paginate',{attrs:{\"page-count\":_vm.toPageCount(_vm.data.total, _vm.data.per_page),\"prev-text\":'Prev',\"next-text\":'Next',\"container-class\":'pagination',\"next-class\":'page-link',\"prev-class\":'page-link',\"page-class\":'page-item',\"page-link-class\":'page-link',\"click-handler\":_vm.paginate},model:{value:(_vm.filter.page),callback:function ($$v) {_vm.$set(_vm.filter, \"page\", $$v)},expression:\"filter.page\"}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"25%\"}},[_vm._v(\"Province\")]),_c('th',{attrs:{\"width\":\"25%\"}},[_vm._v(\"City\")]),_c('th',{attrs:{\"width\":\"25%\"}},[_vm._v(\"Created At\")]),_c('th',{attrs:{\"width\":\"25%\"}},[_vm._v(\"Actions\")])])])}]\n\nexport { render, staticRenderFns }","import api from '../../globals/client';\nimport config from '../../config/app.config';\n\nvar promise;\n\nexport default class StoreService {\n    store(data) {\n        promise = api.client.post(config.end_point.admin.management.administrator + '/create', data);\n        return promise;\n    }\n\n    update(data, id) {\n        promise = api.client.put(config.end_point.admin.management.administrator + '/update/' + id, data);\n        return promise;\n    }\n\n    list(data) {\n        promise = api.client.post('api/get-reports' + '/' + data.page + '/' + data.per_page, { 'api-token': localStorage.getItem('auth_token') })\n        return promise;\n    }\n\n    show(id, data) {\n        promise = api.client.post(config.end_point.admin.management.administrator + '/' + id, { params: data });\n        return promise;\n    }\n\n    delete(id) {\n        promise = api.client.delete(config.end_point.admin.management.administrator + '/delete/' + id);\n        return promise;\n    }\n\n    force_delete(id) {\n        promise = api.client.delete(config.end_point.admin.management.administrator + '/force-delete/' + id);\n        return promise;\n    }\n\n}\n\nexport const storeService = new StoreService();\n","import {alertService} from \"../../services/alert/alert.service\";\nimport {storeService} from \"../../services/store/store.service\";\n\nimport provinces from \"../../../public/img/provinces.json\"\n\n\nexport default {\n    data: () => {\n        return {\n            data: [],\n            filter: {\n                paginate: true,\n                per_page: 20,\n                page: 1,\n                status_option_id: 1,\n                related_status_option_id: 1,\n                with_related_models: true,\n                order_by: 'DESC',\n                order_by_key: 'id',\n                has_featured: false\n            },\n            suggestions: {},\n        }\n    },\n    async mounted() {\n\n        await this.list(this.filter);\n        // FORMAT DATA \n\n        // console.log(provinces)\n        // console.log( administratorService.list(this.filter));\n    },\n    methods: {\n        async test(value) {\n            console.log(value);\n        },\n        async search(data) {\n\n            this.filter = Object.assign(this.filter, data);\n            await this.list(this.filter);\n        },\n        async list(data) {\n            this.data  = provinces \n            console.log(this.data)\n        },\n        async paginate(page) {\n            this.filter.page = page;\n            await this.list(this.filter);\n        },\n        async archive(id) {\n\n            var cb = async () => {\n                await storeService.delete(id);\n                this.list(this.filter);\n            }\n\n            alertService.withConfirmation(cb, 'Are you sure you want to delete this record?');\n        },\n        async restore(id) {\n\n            var cb = async () => {\n                var inputs = this.data.data.find(el => el.id == id);\n                inputs.status_option_id = 1;\n                await storeService.update(id, inputs);\n                this.list(this.filter);\n            };\n\n            alertService.withConfirmation(cb, 'Are you sure you want to restore this record?');\n        },\n        async clear() {\n          this.filter.name  = '';\n          this.search();\n        },\n        async set_featured$(data) {\n\n            var cb = async () => {\n\n                const response = await featuredItemService.store(data);\n                if (response.code == 422) {\n\n                    alertService.failWithMessage('Error', response.errors[0].detail);\n                }\n                this.list(this.filter);\n            };\n\n            alertService.withConfirmation(cb, 'Are you sure you want to set this record as featured?');\n        },\n\n        async unset_featured$(id) {\n\n            var cb = async () => {\n\n                await featuredItemService.delete(id);\n                this.list(this.filter);\n            };\n\n            alertService.withConfirmation(cb, 'Are you sure you want to remove this record as featured?');\n        },\n\n    }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./index.component.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./index.component.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.component.vue?vue&type=template&id=662ec664&\"\nimport script from \"./index.component.js?vue&type=script&lang=js&\"\nexport * from \"./index.component.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}