(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b4772be"],{a2c0:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"login"}},[n("div",{staticClass:"app flex-row align-items-center ng-scope"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-5"},[n("div",{staticClass:"card-group"},[n("div",{staticClass:"card login-form p-4"},[n("div",{staticClass:"card-body text-center"},[n("img",{staticClass:"w-100",attrs:{src:"/img/qr-logo.png",alt:""}}),n("form",{on:{submit:function(e){return e.preventDefault(),t.login()}}},[n("p",{staticClass:"text-muted"},[t._v("Sign In to your account")]),t.error?n("p",{staticClass:"text-danger"},[t._v("\n                    "+t._s(t.error)+"\n                  ")]):t._e(),n("div",{staticClass:"input-group mb-3"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data["user-name"],expression:"data['user-name']"}],staticClass:"form-control",class:{"error-border":t.error},attrs:{type:"text",placeholder:"Username"},domProps:{value:t.data["user-name"]},on:{input:function(e){e.target.composing||t.$set(t.data,"user-name",e.target.value)}}})]),n("div",{staticClass:"input-group mb-4"},[t._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"form-control",class:{"error-border":t.error},attrs:{type:"password",placeholder:"Password"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})]),n("button",{staticClass:"btn btn-primary w-100 px-4"},[t._v("Login")])])])])])])])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text"},[n("i",{staticClass:"icon-user"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text"},[n("i",{staticClass:"icon-lock"})])])}],o=(n("96cf"),n("3b8d")),s=n("e0e0"),i=n("c788"),c=(new i["b"],new s["a"],{data:function(){return{data:{},error:null}},methods:{login:function(){return this.$swal({title:"Loading...",text:"Please wait.",icon:"/img/loader.gif",button:!1,closeOnClickOutside:!1}),this.error={},this.requestLogin(this.data)},requestLogin:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,o,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}for(r in n=[],e)a=encodeURIComponent(r),o=encodeURIComponent(e[r]),n.push(a+"="+o);return n=n.join("&"),s={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},t.next=7,fetch(api_url+"/api/login",s).then((function(t){return t.text()})).then((function(t){t.indexOf(" ")>=0?(i.$swal.close(),i.error=t):(localStorage.setItem("auth_token",t),location.href="/admin-users")})).catch((function(t){i.$swal.close(),i.error=t}));case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}}),u=c,l=n("2877"),p=Object(l["a"])(u,r,a,!1,null,null,null);e["default"]=p.exports},e0e0:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("96cf");var r,a=n("3b8d"),o=n("d225"),s=n("b0b4"),i=function(){function t(){Object(o["a"])(this,t)}return Object(s["a"])(t,[{key:"login",value:function(t){return r=axios.post(api_url+"/api/login",t),r}},{key:"profile",value:function(){return r=axios.get(api_url+"/admin/profile"),r}},{key:"logout",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a,o,s,i,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in console.log("LOGOUT"),e={"api-token":localStorage.getItem("auth_token")},n=[],e)o=encodeURIComponent(a),s=encodeURIComponent(e[a]),n.push(o+"="+s);return n=n.join("&"),i={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},t.next=8,fetch(api_url+"/api/logout",i).then((function(t){return t.text()})).then((function(t){localStorage.clear(),location.href="/login"})).catch((function(t){c.error=t}));case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}()}}]);
//# sourceMappingURL=chunk-3b4772be.80adb4bc.js.map